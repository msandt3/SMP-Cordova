/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 * 
 * (c) Copyright 2009-2013 SAP AG. All rights reserved
 */
if(window.jQuery&&window.jQuery.sap&&window.jQuery.sap.declare){window.jQuery.sap.declare("sap.ui.Device",false)}if(typeof window.sap!=="object"&&typeof window.sap!=="function"){window.sap={}}if(typeof window.sap.ui!=="object"){window.sap.ui={}}(function(){if(typeof window.sap.ui.Device==="object"||typeof window.sap.ui.Device==="function"){return}var d={};function p(i,w){return("000"+String(i)).slice(-w)}var F=0,E=1,W=2,I=3,D=4,T=5;var c=function(){this.defaultComponent='DEVICE';this.sWindowName=(window.top==window)?"":"["+window.location.pathname.split('/').slice(-1)[0]+"] ";this.log=function(i,s,a){a=a||this.defaultComponent||'';var e=new Date(),f={time:p(e.getHours(),2)+":"+p(e.getMinutes(),2)+":"+p(e.getSeconds(),2),date:p(e.getFullYear(),4)+"-"+p(e.getMonth()+1,2)+"-"+p(e.getDate(),2),timestamp:e.getTime(),level:i,message:s||"",component:a||""};if(window.console){var q=f.date+" "+f.time+" "+this.sWindowName+f.message+" - "+f.component;switch(i){case F:case E:console.error(q);break;case W:console.warn(q);break;case I:console.info?console.info(q):console.log(q);break;case D:console.debug?console.debug(q):console.log(q);break;case T:console.trace?console.trace(q):console.log(q);break}}return f}};var l=new c();l.log(I,"Device API logging initialised");var m={};function g(e,f,a){if(!m[e]){m[e]=[]}m[e].push({oListener:a,fFunction:f})};function h(e,f,a){var q=m[e];if(!q){return this}for(var i=0,s=q.length;i<s;i++){if(q[i].fFunction===f&&q[i].oListener===a){q.splice(i,1);break}}if(q.length==0){delete m[e]}};function j(e,a){var f=m[e],q;if(f){f=f.slice();for(var i=0,s=f.length;i<s;i++){q=f[i];q.fFunction.call(q.oListener||window,a)}}};var O={"WINDOWS":"win","MACINTOSH":"mac","LINUX":"linux","IOS":"iOS","ANDROID":"Android","BLACKBERRY":"bb","WINDOWS_PHONE":"winphone"};function k(a){function e(){var w=navigator.platform;if(w.indexOf("Win")!=-1){return{"name":O.WINDOWS,"versionStr":""}}else if(w.indexOf("Mac")!=-1){return{"name":O.MACINTOSH,"versionStr":""}}else if(w.indexOf("Linux")!=-1){return{"name":O.LINUX,"versionStr":""}}l.log(I,"OS detection returned no result");return null}a=a||navigator.userAgent;var f=/\(([a-zA-Z ]+);\s(?:[U]?[;]?)([\D]+)((?:[\d._]*))(?:.*[\)][^\d]*)([\d.]*)\s/;var i=a.match(f);if(i){var q=/iPhone|iPad|iPod/;var s=/PlayBook|BlackBerry/;if(i[0].match(q)){i[3]=i[3].replace(/_/g,".");return({"name":O.IOS,"versionStr":i[3]})}else if(i[2].match(/Android/)){i[2]=i[2].replace(/\s/g,"");return({"name":O.ANDROID,"versionStr":i[3]})}else if(i[0].match(s)){return({"name":O.BLACKBERRY,"versionStr":i[4]})}else{return e()}}else if(a.indexOf("(BB10;")>0){f=/\sVersion\/([\d.]+)\s/;i=a.match(f);if(i){return{"name":O.BLACKBERRY,"versionStr":i[1]}}else{return{"name":O.BLACKBERRY,"versionStr":'10'}}}else{f=/Windows Phone (?:OS )?([\d.]*)/;i=a.match(f);if(i){return({"name":O.WINDOWS_PHONE,"versionStr":i[1]})}else{return e()}}};d.os=k();d.os.OS=O;d.os.version=d.os.versionStr?parseFloat(d.os.versionStr):-1;if(d.os.name){for(var b in O){if(O[b]===d.os.name){d.os[b.toLowerCase()]=true}}}var B={"INTERNET_EXPLORER":"ie","FIREFOX":"ff","CHROME":"cr","SAFARI":"sf"};var u=navigator.userAgent;
/*!
	 * Taken from jQuery JavaScript Library v1.7.1
	 * http://jquery.com/
	 *
	 * Copyright 2011, John Resig
	 * Dual licensed under the MIT or GPL Version 2 licenses.
	 * http://jquery.org/license
	 *
	 * Includes Sizzle.js
	 * http://sizzlejs.com/
	 * Copyright 2011, The Dojo Foundation
	 * Released under the MIT, BSD, and GPL Licenses.
	 *
	 * Date: Mon Nov 21 21:11:03 2011 -0500
	 */
function n(){var a=u.toLowerCase();var e=/(webkit)[ \/]([\w.]+)/;var f=/(opera)(?:.*version)?[ \/]([\w.]+)/;var i=/(msie) ([\w.]+)/;var q=/(mozilla)(?:.*? rv:([\w.]+))?/;var L=e.exec(a)||f.exec(a)||i.exec(a)||a.indexOf("compatible")<0&&q.exec(a)||[];var s={browser:L[1]||"",version:L[2]||"0"};s[s.browser]=true;return s};function o(){var b=n();if(b.mozilla){if(u.match(/Firefox\/(\d+\.\d+)/)){var a=parseFloat(RegExp.$1);return{name:B.FIREFOX,versionStr:""+a,version:a,mobile:false}}}else if(b.webkit){var e=/Mobile/;if(u.match(/Chrome\/(\d+\.\d+).\d+/)){var a=parseFloat(RegExp.$1);return{name:B.CHROME,versionStr:""+a,version:a,mobile:e.test(u),webkit:true}}else{var f=/Version\/(\d+\.\d+).*Safari/;if(f.test(u)){var a=parseFloat(f.exec(u)[1]);return{name:B.SAFARI,versionStr:""+a,version:a,mobile:e.test(u),webkit:true}}}}else if(b.msie){var a;if(document.documentMode){if(document.documentMode===7){a=8.0}else{a=parseFloat(document.documentMode)}}else{a=parseFloat(b.version)}return{name:B.INTERNET_EXPLORER,versionStr:""+a,version:a,mobile:false}}return{name:"",versionStr:"",version:-1,mobile:false}};d.browser=o();d.browser.BROWSER=B;if(d.browser.name){for(var b in B){if(B[b]===d.browser.name){d.browser[b.toLowerCase()]=true}}}d.support={};d.support.touch=!!(('ontouchstart'in window)||window.DocumentTouch&&document instanceof window.DocumentTouch);d.support.matchmedia=!!window.matchMedia;d.support.matchmedialistener=!!(d.support.matchmedia&&!!window.matchMedia("screen and (max-width:0px)").addListener);if(d.browser.safari&&d.browser.version<6){d.support.matchmedialistener=false}d.support.orientation=!!("orientation"in window&&"onorientationchange"in window);d.support.retina=(window.retina||window.devicePixelRatio>=2);d.media={};var R={"SAP_3STEPS":"3Step","SAP_4STEPS":"4Step","SAP_6STEPS":"6Step","SAP_STANDARD":"Std"};d.media.RANGESETS=R;d.media._predefinedRangeSets={};d.media._predefinedRangeSets[R.SAP_3STEPS]={points:[520,960],unit:"px",name:R.SAP_3STEPS,names:["S","M","L"]};d.media._predefinedRangeSets[R.SAP_4STEPS]={points:[520,760,960],unit:"px",name:R.SAP_4STEPS,names:["S","M","L","XL"]};d.media._predefinedRangeSets[R.SAP_6STEPS]={points:[241,400,541,768,960],unit:"px",name:R.SAP_6STEPS,names:["XS","S","M","L","XL","XXL"]};d.media._predefinedRangeSets[R.SAP_STANDARD]={points:[600,1024],unit:"px",name:R.SAP_STANDARD,names:["Phone","Tablet","Desktop"]};var _=R.SAP_STANDARD;var r=d.support.matchmedialistener?0:100;var t={};var v=null;function y(f,a,e){e=e||"px";var q="screen";if(f>0){q=q+" and (min-width:"+f+e+")"}if(a>0){q=q+" and (max-width:"+a+e+")"}return q};function z(a){if(!d.support.matchmedialistener&&v==H()[0]){return}if(t[a].timer){clearTimeout(t[a].timer);t[a].timer=null}t[a].timer=setTimeout(function(){var e=C(a,false);if(e){j("media_"+a,e)}},r)};function A(s,i){var q=t[s].queries[i];var a={from:q.from,unit:t[s].unit};if(q.to>=0){a.to=q.to}if(t[s].names){a.name=t[s].names[i]}return a};function C(a,e){if(t[a]){var f=t[a].queries;for(var i=0,s=f.length;i<s;i++){var q=f[i];if((q!=t[a].currentquery||e)&&window.sap.ui.Device.media.matches(q.from,q.to,t[a].unit)){if(!e){t[a].currentquery=q}if(!t[a].noClasses&&t[a].names&&!e){G(a,t[a].names[i])}return A(a,i)}}}l.log(W,"No queryset with name "+a+" found",'DEVICE.MEDIA');return null};function G(s,a,e){var f=document.documentElement;var q="sapUiMedia-"+s+"-";var w=q+a;if(f.className.length==0){if(!e){f.className=w}}else{var x=f.className.split(" ");var S="";for(var i=0;i<x.length;i++){if(x[i].indexOf(q)!=0){S=S+x[i]+" "}}if(!e){S=S+w}f.className=S}};function H(){return[document.documentElement.clientWidth,document.documentElement.clientHeight]};function J(a,i){if(i==="em"||i==="rem"){var s=window.getComputedStyle||function(e){return e.currentStyle};var x=s(document.documentElement).fontSize;var f=(x&&x.indexOf("px")>=0)?parseFloat(x,10):16;return a*f}return a};function K(f,e,i){f=J(f,i);e=J(e,i);var w=H()[0];var a=f<0||f<=w;var b=e<0||w<=e;return a&&b};function L(f,a,e){var q=y(f,a,e);return window.matchMedia(q).matches};d.media.matches=d.support.matchmedia?L:K;d.media.attachHandler=function(f,a,s){var e=s||_;g("media_"+e,f,a)};d.media.detachHandler=function(f,a,s){var e=s||_;h("media_"+e,f,a)};d.media.initRangeSet=function(s,a,U,e,S){var f;if(!s){f=d.media._predefinedRangeSets[_]}else if(s&&d.media._predefinedRangeSets[s]){f=d.media._predefinedRangeSets[s]}else{f={name:s,unit:(U||"px").toLowerCase(),points:a||[],names:e,noClasses:!!S}}if(d.media.hasRangeSet(f.name)){return;l.log(I,"Range set "+f.name+" hase already been initialized",'DEVICE.MEDIA')}s=f.name;f.queries=[];f.timer=null;f.currentquery=null;f.listener=function(){return z(s)};var w,x,V;var X=f.points;for(var i=0,Y=X.length;i<=Y;i++){w=(i==0)?0:X[i-1];x=(i==X.length)?-1:X[i]-0.001;V=y(w,x,f.unit);f.queries.push({query:V,from:w,to:x})};if(f.names&&f.names.length!=f.queries.length){f.names=null}t[f.name]=f;if(d.support.matchmedialistener){var Z=f.queries;for(var i=0;i<Z.length;i++){var q=Z[i];q.media=window.matchMedia(q.query);q.media.addListener(f.listener)}}else{if(window.addEventListener){window.addEventListener("resize",f.listener,false);window.addEventListener("orientationchange",f.listener,false)}else{window.attachEvent("onresize",f.listener)}}f.listener()};d.media.getCurrentRange=function(s){if(!d.media.hasRangeSet(s)){return null}return C(s,true)};d.media.hasRangeSet=function(s){return s&&!!t[s]};d.media.removeRangeSet=function(s){if(!d.media.hasRangeSet(s)){l.log(I,"RangeSet "+s+" not found, thus could not be removed.",'DEVICE.MEDIA');return}for(var x in R){if(s===R[x]){l.log(W,"Cannot remove default rangeset - no action taken.",'DEVICE.MEDIA');return}}var a=t[s];if(d.support.matchmedialistener){var q=a.queries;for(var i=0;i<q.length;i++){q[i].media.removeListener(a.listener)}}else{if(window.removeEventListener){window.removeEventListener("resize",a.listener,false);window.removeEventListener("orientationchange",a.listener,false)}else{window.detachEvent("onresize",a.listener)}}G(s,"",true);delete m["media_"+s];delete t[s]};d.orientation={};d.orientation.attachHandler=function(f,a){g("orientation",f,a)};d.orientation.detachHandler=function(f,a){h("orientation",f,a)};function M(){if(d.support.matchmedia&&d.support.orientation){return!!window.matchMedia("(orientation: landscape)").matches}else{var s=H();return s[0]>s[1]}};function N(i){i.landscape=M();i.portrait=!i.landscape};function P(){N(window.sap.ui.Device.orientation);j("orientation",{landscape:window.sap.ui.Device.orientation.landscape})};function Q(){var w=window.sap.ui.Device.orientation.landscape;var i=M();if(w!=i){P()}};N(d.orientation);if(!d.support.touch&&"onorientationchange"in window){window.addEventListener("orientationchange",P,false)}else{if(window.addEventListener){window.addEventListener("resize",Q,false)}else{window.attachEvent("onresize",Q)}};window.sap.ui.Device=d;d.media.initRangeSet()}());
