/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 * 
 * (c) Copyright 2009-2013 SAP AG. All rights reserved
 */
jQuery.sap.declare("sap.m.Bar");jQuery.sap.require("sap.m.library");jQuery.sap.require("sap.ui.core.Control");sap.ui.core.Control.extend("sap.m.Bar",{metadata:{library:"sap.m",properties:{"enableFlexBox":{type:"boolean",group:"Misc",defaultValue:false},"translucent":{type:"boolean",group:"Appearance",defaultValue:false}},aggregations:{"contentLeft":{type:"sap.ui.core.Control",multiple:true,singularName:"contentLeft"},"contentMiddle":{type:"sap.ui.core.Control",multiple:true,singularName:"contentMiddle"},"contentRight":{type:"sap.ui.core.Control",multiple:true,singularName:"contentRight"}}}});
sap.m.Bar.prototype.init=function(){};
sap.m.Bar.prototype.onBeforeRendering=function(){if(this._sResizeListenerId){sap.ui.core.ResizeHandler.deregister(this._sResizeListenerId);this._sResizeListenerId=null}};
sap.m.Bar.prototype.onAfterRendering=function(){this._updatePosition()};
sap.m.Bar.prototype.exit=function(){if(this._sResizeListenerId){sap.ui.core.ResizeHandler.deregister(this._sResizeListenerId);this._sResizeListenerId=null}};
sap.m.Bar.prototype._updatePosition=function(){if(this._sResizeListenerId){sap.ui.core.ResizeHandler.deregister(this._sResizeListenerId);this._sResizeListenerId=null}var $=this.$();if($.length==0||!$.is(":visible")){return}var b=$.outerWidth(true);var a=jQuery.sap.byId(this.getId()+"-BarLeft");a.css({'width':'auto'});var l=a.children();var t=0;var L=0;if(sap.ui.Device.browser.chrome){for(var i=0;i<l.length;i++){t+=jQuery(l[i]).outerWidth(true)}L=a.outerWidth(true)}else{var o=null;for(var i=0;i<l.length;i++){o=window.getComputedStyle(l[i]);t+=parseFloat(o.width);t+=parseFloat(o.marginLeft);t+=parseFloat(o.marginRight);t+=parseFloat(o.paddingLeft);t+=parseFloat(o.paddingRight)}var c=window.getComputedStyle(jQuery.sap.domById(this.getId()+"-BarLeft"));L+=parseFloat(c.width);L+=parseFloat(c.marginLeft);L+=parseFloat(c.marginRight);L+=parseFloat(c.paddingLeft);L+=parseFloat(c.paddingRight)}if(L<t){L=t;a.css({'width':L})}var d=jQuery.sap.byId(this.getId()+"-BarMiddle");var m=d.outerWidth(true);var e=jQuery.sap.byId(this.getId()+"-BarPH");e.css({'position':'static','width':'auto','visibility':'hidden'});var M=e.outerWidth(true);var f=e.position();var g=jQuery.sap.byId(this.getId()+"-BarRight");g.css({'width':'auto'});var r=g.outerWidth(true);var R=g.position();if(this.getEnableFlexBox()){e.css({'position':'absolute','left':L});e.width(b-L-r-parseInt(e.css('margin-left'),10)-parseInt(e.css('margin-right'),10))}else{if(R.left+r>=b){if(b<(L+r)){if(r>b){g.width(b);a.width(0)}else{a.width(b-r)}}if(f.left<L){e.css({'position':'absolute','left':L});f=e.position()}else{}if((f.left+M)>R.left){if(R.left<f.left){e.width(0)}else{e.width(R.left-f.left)}}if(e.outerWidth()>m){e.width(m)}}}e.css({'visibility':'inherit'});this._sResizeListenerId=sap.ui.core.ResizeHandler.register(this.getDomRef(),jQuery.proxy(this._updatePosition,this))};
